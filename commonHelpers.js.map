{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import axios from 'axios';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport './css/loading.css';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const searchForm = document.querySelector('.form');\n  const searchBar = document.getElementById('search-bar');\n  const submitBtn = document.querySelector('.submit-btn');\n  const gallery = document.getElementById('gallery');\n  const loading = document.querySelector('.loading');\n  const loadMoreBtn = document.getElementById('load-more-btn');\n\n  let searchQuery = '';\n  let page = 1;\n\n  searchForm.addEventListener('submit', async e => {\n    e.preventDefault();\n\n    searchQuery = searchBar.value.trim();\n    page = 1;\n\n    if (!searchQuery) {\n      iziToast.error({\n        title: 'Error',\n        message: 'Please enter a search query.',\n      });\n      return;\n    }\n\n    loading.style.display = 'block';\n    gallery.innerHTML = '';\n    loadMoreBtn.style.display = 'none';\n\n    const apiKey = '42199698-86ec1f577e997e517f326ea6b';\n    const url = `https://pixabay.com/api/?key=${apiKey}&q=${searchQuery}&image_type=photo&orientation=horizontal&safesearch=true&page=${page}&per_page=15`;\n\n    try {\n      const response = await axios.get(url);\n      const data = response.data;\n\n      loading.style.display = 'none';\n      if (data.hits.length === 0) {\n        iziToast.error({\n          title: 'Error',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n        });\n        gallery.innerHTML = '';\n      } else {\n        gallery.innerHTML = '';\n        data.hits.forEach(image => {\n          const card = document.createElement('div');\n          card.className = 'card';\n          card.innerHTML = `\n    <a href=\"${image.largeImageURL}\" data-lightbox=\"gallery\">\n      <img src=\"${image.webformatURL}\" alt=\"${image.tags}\"/>\n    </a>\n    <div class=\"card-info\">\n      <h3 class=\"img-desc\">${image.tags}</h3>\n      <div class=\"img-info\">\n      <p class=\"img-stat\">Likes:<br>${image.likes}</p>\n      <p class=\"img-stat\">Views:<br>${image.views}</p>\n      <p class=\"img-stat\">Comments:<br>${image.comments}</p>\n      <p class=\"img-stat\">Downloads:<br>${image.downloads}</p>\n      </div>\n              </div>\n   `;\n          gallery.appendChild(card);\n        });\n\n        if (data.totalHits > 15) {\n          loadMoreBtn.style.display = 'block';\n        }\n      }\n    } catch (error) {\n      console.error('Error:', error);\n    }\n  });\n\n  loadMoreBtn.addEventListener('click', async () => {\n    page++;\n\n    const apiKey = '42199698-86ec1f577e997e517f326ea6b';\n    const url = `https://pixabay.com/api/?key=${apiKey}&q=${searchQuery}&image_type=photo&orientation=horizontal&safesearch=true&page=${page}&per_page=15`;\n\n    try {\n      const response = await axios.get(url);\n      const data = response.data;\n\n      if (data.hits.length === 0) {\n        loadMoreBtn.style.display = 'none';\n        iziToast.info({\n          title: 'Info',\n          message: \"We're sorry, but you've reached the end of search results.\",\n        });\n      } else {\n        data.hits.forEach(image => {\n          const card = document.createElement('div');\n          card.className = 'card';\n          card.innerHTML = `\n          <a href=\"${image.largeImageURL}\" data-lightbox=\"gallery\">\n            <img src=\"${image.webformatURL}\" alt=\"${image.tags}\"/>\n          </a>\n          <div class=\"card-info\">\n            <h3 class=\"img-desc\">${image.tags}</h3>\n            <div class=\"img-info\">\n              <p class=\"img-stat\">Likes:<br>${image.likes}</p>\n              <p class=\"img-stat\">Views:<br>${image.views}</p>\n              <p class=\"img-stat\">Comments:<br>${image.comments}</p>\n              <p class=\"img-stat\">Downloads:<br>${image.downloads}</p>\n            </div>\n          </div>\n        `;\n          gallery.appendChild(card);\n        });\n\n        const cardHeight = document\n          .querySelector('.card')\n          .getBoundingClientRect().height;\n        window.scrollBy(0, cardHeight * 2);\n      }\n    } catch (error) {\n      console.error('Error:', error);\n    }\n  });\n});\n"],"names":["searchForm","searchBar","gallery","loading","loadMoreBtn","searchQuery","page","e","iziToast","url","data","axios","image","card","error","cardHeight"],"mappings":"6vBAOA,SAAS,iBAAiB,mBAAoB,IAAM,CAClD,MAAMA,EAAa,SAAS,cAAc,OAAO,EAC3CC,EAAY,SAAS,eAAe,YAAY,EACpC,SAAS,cAAc,aAAa,EACtD,MAAMC,EAAU,SAAS,eAAe,SAAS,EAC3CC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAc,SAAS,eAAe,eAAe,EAE3D,IAAIC,EAAc,GACdC,EAAO,EAEXN,EAAW,iBAAiB,SAAU,MAAMO,GAAK,CAM/C,GALAA,EAAE,eAAc,EAEhBF,EAAcJ,EAAU,MAAM,OAC9BK,EAAO,EAEH,CAACD,EAAa,CAChBG,EAAS,MAAM,CACb,MAAO,QACP,QAAS,8BACjB,CAAO,EACD,MACD,CAEDL,EAAQ,MAAM,QAAU,QACxBD,EAAQ,UAAY,GACpBE,EAAY,MAAM,QAAU,OAG5B,MAAMK,EAAM,qEAA4CJ,CAAW,iEAAiEC,CAAI,eAExI,GAAI,CAEF,MAAMI,GADW,MAAMC,EAAM,IAAIF,CAAG,GACd,KAEtBN,EAAQ,MAAM,QAAU,OACpBO,EAAK,KAAK,SAAW,GACvBF,EAAS,MAAM,CACb,MAAO,QACP,QACE,0EACZ,CAAS,EACDN,EAAQ,UAAY,KAEpBA,EAAQ,UAAY,GACpBQ,EAAK,KAAK,QAAQE,GAAS,CACzB,MAAMC,EAAO,SAAS,cAAc,KAAK,EACzCA,EAAK,UAAY,OACjBA,EAAK,UAAY;AAAA,eACZD,EAAM,aAAa;AAAA,kBAChBA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA,6BAG3BA,EAAM,IAAI;AAAA;AAAA,sCAEDA,EAAM,KAAK;AAAA,sCACXA,EAAM,KAAK;AAAA,yCACRA,EAAM,QAAQ;AAAA,0CACbA,EAAM,SAAS;AAAA;AAAA;AAAA,KAI/CV,EAAQ,YAAYW,CAAI,CAClC,CAAS,EAEGH,EAAK,UAAY,KACnBN,EAAY,MAAM,QAAU,SAGjC,OAAQU,EAAO,CACd,QAAQ,MAAM,SAAUA,CAAK,CAC9B,CACL,CAAG,EAEDV,EAAY,iBAAiB,QAAS,SAAY,CAChDE,IAGA,MAAMG,EAAM,qEAA4CJ,CAAW,iEAAiEC,CAAI,eAExI,GAAI,CAEF,MAAMI,GADW,MAAMC,EAAM,IAAIF,CAAG,GACd,KAEtB,GAAIC,EAAK,KAAK,SAAW,EACvBN,EAAY,MAAM,QAAU,OAC5BI,EAAS,KAAK,CACZ,MAAO,OACP,QAAS,4DACnB,CAAS,MACI,CACLE,EAAK,KAAK,QAAQE,GAAS,CACzB,MAAMC,EAAO,SAAS,cAAc,KAAK,EACzCA,EAAK,UAAY,OACjBA,EAAK,UAAY;AAAA,qBACND,EAAM,aAAa;AAAA,wBAChBA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA,mCAG3BA,EAAM,IAAI;AAAA;AAAA,8CAECA,EAAM,KAAK;AAAA,8CACXA,EAAM,KAAK;AAAA,iDACRA,EAAM,QAAQ;AAAA,kDACbA,EAAM,SAAS;AAAA;AAAA;AAAA,UAIvDV,EAAQ,YAAYW,CAAI,CAClC,CAAS,EAED,MAAME,EAAa,SAChB,cAAc,OAAO,EACrB,sBAAqB,EAAG,OAC3B,OAAO,SAAS,EAAGA,EAAa,CAAC,CAClC,CACF,OAAQD,EAAO,CACd,QAAQ,MAAM,SAAUA,CAAK,CAC9B,CACL,CAAG,CACH,CAAC"}